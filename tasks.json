{
  "tasks": [
    {
      "id": "homepage-redesign",
      "task": "Redesign HomePage with centered prompt, figure dropdown, 2x2 grid, and view more link",
      "related_files_folders": [
        "packages/app/src/pages/home.tsx",
        "packages/app/src/components/figures/figure-select.tsx",
        "packages/app/src/components/figures/home-figure-card.tsx"
      ],
      "notes": [
        "1. Create FigureSelectDropdown component (packages/app/src/components/figures/figure-select.tsx):",
        "   - Import Select components from @christianai/ui",
        "   - Props: figures (Figure[]), value (string), onValueChange ((slug: string) => void)",
        "   - Each SelectItem shows Avatar + display_name",
        "   - Use Avatar from @christianai/ui",
        "2. Create HomeFigureCard component (packages/app/src/components/figures/home-figure-card.tsx):",
        "   - Horizontal flex layout with Card component and border outline",
        "   - Left side: figure.avatar_url image (fixed width ~80px, aspect-square, object-cover, rounded)",
        "   - Right side: display_name (font-semibold) + description (text-sm text-muted-foreground line-clamp-2)",
        "   - Props: figure (Figure), onClick (() => void), isLocked (boolean)",
        "   - Show lock icon overlay if isLocked",
        "   - cursor-pointer, hover:shadow-md transition",
        "3. Rewrite HomePage (packages/app/src/pages/home.tsx):",
        "   - State: selectedFigureSlug (default 'jesus'), input (string)",
        "   - Find selected figure from figures array by slug, fallback to first figure",
        "   - Use useCreateConversation hook for submission",
        "   - Layout structure:",
        "     - Welcome header centered",
        "     - PromptInput centered (max-w-2xl mx-auto):",
        "       - PromptInputHeader: FigureSelectDropdown bound to selectedFigureSlug",
        "       - PromptInputTextarea: placeholder='Ask anything', value/onChange bound to input",
        "       - PromptInputFooter: PromptInputSubmit",
        "     - 2x2 grid section (grid grid-cols-2 gap-4 max-w-2xl mx-auto mt-8):",
        "       - Map first 4 figures to HomeFigureCard",
        "       - onClick sets selectedFigureSlug to that figure's slug",
        "     - Link to /figures below grid: 'View more people' (text-primary hover:underline)",
        "   - handleSubmit: if input and selectedFigure, create conversation and navigate to /chats/{id} with state.initialMessage",
        "4. Import PromptInput components from @christianai/ui",
        "5. Import Link from react-router-dom for 'View more people'"
      ],
      "depends_on": [],
      "status": "done",
      "complexity": "high"
    },
    {
      "id": "figures-page",
      "task": "Create /figures page with search bar and figures grid",
      "related_files_folders": [
        "packages/app/src/pages/figures.tsx",
        "packages/app/src/main.tsx"
      ],
      "notes": [
        "1. Create FiguresPage (packages/app/src/pages/figures.tsx):",
        "   - State: searchQuery (string)",
        "   - Use useFigures() and useSubscription() hooks",
        "   - Filter figures by name (case-insensitive includes on display_name)",
        "   - Layout:",
        "     - Page title: 'Biblical Figures' or 'Talk to Biblical Figures'",
        "     - Search input (Input from @christianai/ui) with placeholder 'Search by name...'",
        "     - FigureGrid with filtered figures and userHasPro",
        "   - Loading state: show Skeleton grid",
        "   - Error state: show error message",
        "2. Add route to main.tsx:",
        "   - Import FiguresPage from './pages/figures'",
        "   - Add <Route path='/figures' element={<FiguresPage />} /> inside protected routes with AppLayout and PreferencesWrapper"
      ],
      "depends_on": [],
      "status": "done",
      "complexity": "medium"
    },
    {
      "id": "final-review",
      "task": "Review all changes, test flows, and ensure consistency",
      "related_files_folders": [
        "packages/app/src/pages/",
        "packages/app/src/components/figures/"
      ],
      "notes": [
        "1. Run: git diff main...HEAD to see all changes",
        "2. Verify homepage:",
        "   - Prompt box centered with 'Ask anything' placeholder",
        "   - Figure dropdown shows all figures with avatar + name",
        "   - Default selection is Jesus (slug: 'jesus')",
        "   - 2x2 grid shows 4 figures with horizontal cards",
        "   - Clicking card selects that figure in dropdown",
        "   - Submit creates conversation and redirects to /chats/{id}",
        "   - 'View more people' link navigates to /figures",
        "3. Verify /figures page:",
        "   - Search filters figures by name",
        "   - Uses existing FigureCard in responsive grid",
        "   - Clicking figure goes to /chats/new/{slug}",
        "4. Check imports are correct and no TypeScript errors",
        "5. Ensure consistent styling with rest of app (dark mode support, spacing)",
        "6. Test locked figures show lock icon and toast error on click"
      ],
      "depends_on": [
        "homepage-redesign",
        "figures-page"
      ],
      "status": "done",
      "complexity": "medium"
    }
  ]
}