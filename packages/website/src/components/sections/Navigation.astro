---
// Navigation
---

<!-- SVG Icon Definitions -->
<svg class="hidden">
  <defs>
    <symbol id="menu-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"/>
    </symbol>
    <symbol id="close-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/>
    </symbol>
    <symbol id="external-link-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/>
    </symbol>
  </defs>
</svg>

<header class="sticky top-0 z-50 transition-all duration-300" id="navbar">
  <nav class="container mx-auto px-4 py-4">
    <div class="flex items-center justify-between">
      <!-- Logo -->
      <div>
        <a href="/" class="flex items-center group">
          <img
            src="/images/logo.svg"
            alt="ChristianAI Logo - AI-Powered Biblical Conversations"
            class="h-[150px] absolute w-auto transition-all duration-300 group-hover:scale-105 group-hover:drop-shadow-md invert"
          id="nav-logo"
            loading="eager"
          />
        </a>
      </div>

      <!-- Navigation Links -->
      <div class="hidden md:flex items-center space-x-8">
        <a
          href="/features"
          class="nav-link text-[var(--color-ink)] hover:text-[var(--color-ochre-dark)] font-medium transition-colors duration-200 relative group px-2 py-1 !text-white"
        >
          Features
          <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-[var(--color-ochre-dark)] group-hover:w-full transition-all duration-300 ease-out"></span>
        </a>
        <a
          href="/blog/"
          class="nav-link text-[var(--color-ink)] hover:text-[var(--color-ochre-dark)] font-medium transition-colors duration-200 relative group px-2 py-1 !text-white"
        >
          Blog
          <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-[var(--color-ochre-dark)] group-hover:w-full transition-all duration-300 ease-out"></span>
        </a>
        <a
          href="https://app.christianai.world"
          target="_blank"
          rel="noopener noreferrer"
          class="btn-sacred inline-flex items-center gap-2 !text-sm !py-2 !px-5"
        >
          Launch App
          <svg class="w-4 h-4 transition-transform duration-300 group-hover:translate-x-1">
            <use href="#external-link-icon"/>
          </svg>
        </a>
      </div>

      <!-- Mobile Menu Button -->
      <button
        id="mobile-menu-button"
        class="md:hidden p-2 text-[var(--color-ink)] hover:text-[var(--color-ochre-dark)] rounded-lg transition-colors duration-200 !text-white"
        aria-label="Toggle mobile menu"
      >
        <svg class="w-6 h-6 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" id="menu-icon-svg">
          <use href="#menu-icon"/>
        </svg>
      </button>
    </div>

    <!-- Mobile Menu -->
    <div
      id="mobile-menu"
      class="hidden md:hidden mt-4 pt-4 border-t border-[var(--color-ochre)]/20 overflow-hidden transition-all duration-300"
    >
      <div class="flex flex-col space-y-4 animate-fadeIn">
        <a
          href="/features"
          class="text-[var(--color-ink)] hover:text-[var(--color-ochre-dark)] font-medium transition-colors duration-200 py-2 px-2 hover:bg-[var(--color-ochre)]/5 rounded"
        >
          Features
        </a>
        <a
          href="/blog/"
          class="text-[var(--color-ink)] hover:text-[var(--color-ochre-dark)] font-medium transition-colors duration-200 py-2 px-2 hover:bg-[var(--color-ochre)]/5 rounded"
        >
          Blog
        </a>
        <a
          href="https://app.christianai.world"
          target="_blank"
          rel="noopener noreferrer"
          class="btn-sacred inline-flex items-center gap-2 !text-sm !py-2 !px-5 self-start"
        >
          Launch App
          <svg class="w-4 h-4">
            <use href="#external-link-icon"/>
          </svg>
        </a>
      </div>
    </div>
  </nav>
</header>

<script>
  // Mobile menu toggle
  const mobileMenuButton = document.getElementById('mobile-menu-button');
  const mobileMenu = document.getElementById('mobile-menu');
  const menuIconSvg = document.getElementById('menu-icon-svg');

  if (mobileMenuButton && mobileMenu && menuIconSvg) {
    let isOpen = false;

    mobileMenuButton.addEventListener('click', () => {
      isOpen = !isOpen;
      mobileMenu.classList.toggle('hidden');

      if (isOpen) {
        menuIconSvg.innerHTML = '<use href="#close-icon"/>';
        menuIconSvg.classList.add('rotate-90');
      } else {
        menuIconSvg.innerHTML = '<use href="#menu-icon"/>';
        menuIconSvg.classList.remove('rotate-90');
      }
    });
  }

  // Scroll-based background
  const navbar = document.getElementById('navbar');
  const navLogo = document.getElementById('nav-logo');
  const navLinks = navbar?.querySelectorAll('.nav-link');
  const menuBtn = document.getElementById('mobile-menu-button');

  if (navbar) {
    const updateNav = () => {
      const scrolled = window.pageYOffset > 50;
      if (scrolled) {
        navbar.classList.add('bg-[#f5f0e6]/95', 'backdrop-blur-md', 'shadow-sm', 'border-b', 'border-[#c4a35a]/10');
        navbar.classList.remove('bg-transparent');
        navLogo?.classList.remove('invert');
        navLinks?.forEach(l => l.classList.remove('!text-white'));
        menuBtn?.classList.remove('!text-white');
      } else {
        navbar.classList.remove('bg-[#f5f0e6]/95', 'backdrop-blur-md', 'shadow-sm', 'border-b', 'border-[#c4a35a]/10');
        navbar.classList.add('bg-transparent');
        navLogo?.classList.add('invert');
        navLinks?.forEach(l => l.classList.add('!text-white'));
        menuBtn?.classList.add('!text-white');
      }
    };
    window.addEventListener('scroll', updateNav);
    updateNav();
  }
</script>

<style>
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fadeIn {
    animation: fadeIn 0.3s ease-out;
  }
</style>
